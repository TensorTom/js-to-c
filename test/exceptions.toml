["global exceptions"]

example="""
throw new Error("Test");
"""

expectJsException="Error: Test"

["call stacks"]

todo="implement stack traces"

example="""
function A() {
  B();
}

function B() {
  throw new Error("B threw");
}

A();
"""

errorOutMatch="Error: B threw[\s\\n]+at B[\s\\n]+at A"
expectJsException='Error: B threw'


["catching"]

example="""
function A() {
    try {
      B();
    } catch(e) {
      return 'A caught';
    }
}

function B() {
  throw new Error("B threw");
}

console.log(A());
"""

output="A caught"

["throwing errors"]

example="""
function A() {
    try {
      B();
    } catch(e) {
      return e.message;
    }
}

function B() {
  throw new Error("B threw");
}

console.log(A());
"""

output="B threw"

["calling non function"]

example="""
var A = '';
A();
"""

expectJsException="Uncaught TypeError: A is not a function"

["reference error"]

example="""
A();
"""

expectJsException="Uncaught ReferenceError: A is not defined"


["dereference undefined"]


example="""
var A;
A.thingy;
"""

expectJsException="Uncaught TypeError: Cannot read property 'thingy' of undefined"

["Error works identically without 'new'"]

todo='spec compliance work'

example="""
function A() {
    try {
      B();
    } catch(e) {
      return e.message;
    }
}

function B() {
  throw Error("B threw");
}

console.log(A());
"""

output="B threw"


